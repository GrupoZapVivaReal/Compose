<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Compose  Reference</title>
    <link rel='stylesheet' type='text/css' href='css/jazzy.css' />
    <link rel='stylesheet' type='text/css' href='css/highlight.css' />
    <meta charset='utf-8'>
    <script src='js/jquery.min.js' defer></script>
    <script src='js/jazzy.js' defer></script>
  </head>
  <body>


    <a title='Compose  Reference'></a>

    <header class='header'>
      <p class='header-col header-col--primary'>
        <a class='header-link' href='index.html'>
          Compose Docs
        </a>
         (92% documented)
      </p>
    
        <p class='header-col header-col--secondary'>
          <a class='header-link' href='http://github.com/vivalreal/Compose'>
            <img class='header-icon' src='img/gh.png'/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class='breadcrumbs'>
      <a class='breadcrumb' href='index.html'>Compose Reference</a>
      <img class='carat' src='img/carat.png' />
      Compose  Reference
    </p>

    <div class='content-wrapper'>
      <nav class='navigation'>
        <ul class='nav-groups'>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Guides.html'>Guides</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='introduction.html'>Introduction</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='composingunit-api.html'>ComposingUnit API</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='building-ui.html'>Building UI</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Composing Unit.html'>Composing Unit</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/ComposingUnit.html'>ComposingUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/DimensionUnit.html'>DimensionUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TypedUnit.html'>TypedUnit</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Container.html'>Container</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/ComposingContainer.html'>ComposingContainer</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Enums/ComposingContainerDirection.html'>ComposingContainerDirection</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Collections.html'>Collections</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/CollectionStackView.html'>CollectionStackView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/ComposingCollectionView.html'>ComposingCollectionView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/ComposingUnitCollectionViewCell.html'>ComposingUnitCollectionViewCell</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Table.html'>Table</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/TableStackView.html'>TableStackView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/ComposingTableView.html'>ComposingTableView</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Classes/ComposingUnitTableViewCell.html'>ComposingUnitTableViewCell</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Extending Units.html'>Extending Units</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/SelectableUnit.html'>SelectableUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/TwoStepDisplayUnit.html'>TwoStepDisplayUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Protocols/HighlightableUnit.html'>HighlightableUnit</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='ViewUnit.html'>ViewUnit</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/ViewUnit.html'>ViewUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Enums/ViewTraits.html'>ViewTraits</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Conditional Array.html'>Conditional Array</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/Array.html'>Array</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='UIKit Extensions.html'>UIKit Extensions</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/UICollectionViewCell.html'>UICollectionViewCell</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/UITableViewCell.html'>UITableViewCell</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/UIEdgeInsets.html'>UIEdgeInsets</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Extensions/UIView.html'>UIView</a>
              </li>
            </ul>
          </li>
          <li class='nav-group-name'>
            <a class='nav-group-name-link' href='Sample Units.html'>Sample Units</a>
            <ul class='nav-group-tasks'>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/CollectionStackUnit.html'>CollectionStackUnit</a>
              </li>
              <li class='nav-group-task'>
                <a class='nav-group-task-link' href='Structs/LabelUnit.html'>LabelUnit</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class='main-content'>

        <section class='section'>
          <div class='section-content'>
            
            <a href='#compose' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h1 id='compose'>Compose</h1>

<p><a href="http://cocoapods.org/pods/Compose"><img src="https://img.shields.io/cocoapods/v/Compose.svg?style=flat" alt="Version"></a></p>

<p>Compose is a data driven library that will help compose your complex and dynamic Views.</p>
<a href='#motivation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='motivation'>Motivation</h2>

<p>We built Compose so we could easy manage and A/B test our complex views.</p>

<p>That instead of dealing with many dataSources and delegates methods, we could focus on delivering shine and new components. Instead of switching <code>indexPaths</code> we could change each component position as we wished.</p>
<a href='#composingunit' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='composingunit'>ComposingUnit</h2>

<p>The protocol <a href="https://vivareal.github.io/Compose/Protocols/ComposingUnit.html">ComposingUnit</a> is at the center of this library. Any class or struct can conform to it, and it has few properties and methods that needs to be implemented. It should store all data that will be presented by this unit. </p>

<p>A unit also is responsible for selecting which UIView will render it&rsquo;s data, and once an UIView is dequeued from a container, it is also the unit job to bind that data to the view.</p>
<a href='#composingcontainer' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='composingcontainer'>ComposingContainer</h2>

<p>A ComposingContainer is an UIView that knows how do display an array of <code>ComposingUnit</code>s. We provide two containers in the framework: <code>ComposingCollectionView</code> and <code>ComposingTableView</code>. Both have <strong>automatic</strong> detection of inserts/updates/deletes of ComposingUnits they are displaying.</p>
<a href='#example' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='example'>Example</h2>

<p>So, for you to get an example, after creating some units we could easly <strong>compose</strong> our view like this:</p>
<pre class="highlight swift"><code><span class="n">units</span><span class="o">.</span><span class="n">add</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">topSeparator</span> <span class="o">=</span> <span class="kt">LoginUnits</span><span class="o">.</span><span class="kt">SpacerUnit</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"top"</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">14</span><span class="p">)</span>
    <span class="k">let</span> <span class="nv">header</span> <span class="o">=</span> <span class="kt">LoginUnits</span><span class="o">.</span><span class="kt">HeaderUnit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">topSeparator</span><span class="p">,</span> <span class="n">header</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">units</span><span class="o">.</span><span class="n">add</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">username</span> <span class="o">=</span> <span class="kt">LoginUnits</span><span class="o">.</span><span class="kt">UsernameUnit</span><span class="p">(</span><span class="nv">current</span><span class="p">:</span> <span class="n">viewState</span><span class="o">.</span><span class="n">username</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="nf">updateUsername</span><span class="p">(</span><span class="nv">newUsername</span><span class="p">:))</span>
    <span class="k">let</span> <span class="nv">password</span> <span class="o">=</span> <span class="kt">LoginUnits</span><span class="o">.</span><span class="kt">PasswordUnit</span><span class="p">(</span><span class="nv">current</span><span class="p">:</span> <span class="n">viewState</span><span class="o">.</span><span class="n">password</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="nf">updatePassword</span><span class="p">(</span><span class="nv">newPassword</span><span class="p">:))</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">]</span>
<span class="p">}</span>
<span class="k">let</span> <span class="nv">continueButton</span> <span class="o">=</span> <span class="kt">LoginUnits</span><span class="o">.</span><span class="kt">ContinueButtonUnit</span><span class="p">(</span><span class="nv">enabled</span><span class="p">:</span> <span class="n">viewState</span><span class="o">.</span><span class="n">validData</span><span class="p">,</span> <span class="nv">callback</span><span class="p">:</span> <span class="n">doTryLogin</span><span class="p">)</span>
<span class="n">units</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">continueButton</span><span class="p">)</span>

<span class="n">collectionView</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">units</span>
</code></pre>

<p>Here, we can clearly see (and change if we want) the order each unit will be added to the array. Also, if any unit needed some business logic to check if it should be added to the array, we could easily do something like this:</p>
<pre class="highlight swift"><code><span class="n">units</span><span class="o">.</span><span class="nf">add</span><span class="p">(</span><span class="nv">manyIfLet</span><span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">description</span><span class="p">)</span> <span class="p">{</span> <span class="n">text</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">header</span> <span class="o">=</span> <span class="kt">DetailViewUnits</span><span class="o">.</span><span class="kt">HeaderDescriptionUnit</span><span class="p">(</span><span class="nv">header</span><span class="p">:</span> <span class="s">"Description"</span><span class="p">)</span>
    <span class="k">let</span> <span class="nv">description</span> <span class="o">=</span> <span class="kt">DetailViewUnits</span><span class="o">.</span><span class="kt">DescriptionUnit</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="n">text</span><span class="p">,</span> <span class="nv">expanded</span><span class="p">:</span> <span class="n">state</span><span class="o">.</span><span class="n">descriptionExpanded</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">header</span><span class="p">,</span> <span class="n">description</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>

<p>So, if <code>state.description</code> is not nil, then we should display an header and description units. There are many operators for conditional checks, conditional closures, if/let unwrappers and more.</p>

<p>If you got interested, there are many working examples inside the <strong>Example project</strong>.</p>
<a href='#running-the-example-project' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h5 id='running-the-example-project'>Running the Example project</h5>

<p>To run the example project, clone the repo, and open the xcode Project from the Example directory.</p>
<a href='#installation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='installation'>Installation</h2>

<p>Compose is available through <a href="http://cocoapods.org">CocoaPods</a>. To install
it, simply add the following line to your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s2">"Compose"</span>
</code></pre>
<a href='#documentation' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='documentation'>Documentation</h2>

<p>You can find all documentation about Compose here: <a href="https://vivareal.github.io/Compose/index.html">Documentation</a></p>
<a href='#author' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='author'>Author</h2>

<p>Bruno Bilescky, <a href="mailto:brunogb@gmail.com">brunogb@gmail.com</a></p>
<a href='#license' class='anchor' aria-hidden=true><span class="header-anchor"></span></a><h2 id='license'>License</h2>

<p>Compose is available under the MIT license. See the LICENSE file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class='footer'>
      <p>© 2016 <a class="link" href="https://github.com/vivareal" target="_blank" rel="external">VivaReal</a>. All rights reserved.</p>
      <p>Generated by <a class='link' href='https://github.com/realm/jazzy' target='_blank' rel='external'>jazzy ♪♫ v0.7.2</a>, a <a class='link' href='http://realm.io' target='_blank' rel='external'>Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
